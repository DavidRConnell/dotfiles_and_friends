# Add ~/bin to path
export PATH=$HOME/bin:$PATH

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

ZSH_THEME="robbyrussell"
zstyle ':completion:*' menu select

plugins=(
	git
	vi-mode
	colored-man-pages
	fzf
)

export KEYTIMEOUT=1
source $ZSH/oh-my-zsh.sh

# Preferred editor for local and remote sessions
if [[ -n $SSH_CONNECTION ]]; then
	export EDITOR='vim'
else
	export EDITOR='nvim'
fi

unsetopt inc_append_history
unsetopt share_history

# Custom key bindings
bindkey -a k history-beginning-search-backward
bindkey -a j history-beginning-search-forward
bindkey -a H vi-beginning-of-line
bindkey -a L vi-end-of-line
bindkey -v ^@ fzf-completion #^@ is <C-Space>
bindkey -r -a v

# Change cursor based on vi-mode
zle-keymap-select () {
	if [ $KEYMAP = vicmd ]; then
		echo -ne "\e[2 q"
	else
		echo -ne "\e[5 q"
	fi
}

zle-line-init () {
	echo -ne "\e[5 q"
}
